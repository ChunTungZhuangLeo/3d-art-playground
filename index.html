<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>3D Art Playground - Draw & Throw</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.babylonjs.com/havok/HavokPhysics_umd.js"></script>
    <script src="https://cdn.babylonjs.com/babylon.js"></script>
    <script src="https://cdn.babylonjs.com/gui/babylon.gui.min.js"></script>
</head>
<body>
    <div id="loading-screen">
        <div class="loader"></div>
        <p>Loading 3D Art Playground...</p>
    </div>

    <canvas id="renderCanvas"></canvas>

    <!-- Score Popup -->
    <div id="score-popup">SCORE!</div>

    <!-- Tutorial Overlay -->
    <div id="tutorial-overlay">
        <div class="tutorial-card">
            <div class="tutorial-step">Step 1</div>
            <p id="tutorial-text">Draw a basketball in the air!</p>
            <p id="tutorial-hint" class="hint">Click & drag to draw an orange ball</p>
        </div>
    </div>

    <!-- Control Panel -->
    <div id="control-panel">
        <div class="panel-header">
            <h3>Controls</h3>
            <button id="toggle-panel" aria-label="Toggle panel">-</button>
        </div>

        <div class="panel-content">
            <!-- Color Palette - Orange first -->
            <div class="control-section">
                <label>Color</label>
                <div id="color-palette">
                    <button class="color-btn selected" data-color="0" style="background: rgb(255,128,0);" title="Orange"></button>
                    <button class="color-btn" data-color="1" style="background: rgb(255,255,255);" title="White"></button>
                    <button class="color-btn" data-color="2" style="background: rgb(255,0,0);" title="Red"></button>
                    <button class="color-btn" data-color="3" style="background: rgb(0,255,0);" title="Green"></button>
                    <button class="color-btn" data-color="4" style="background: rgb(0,0,255);" title="Blue"></button>
                    <button class="color-btn" data-color="5" style="background: rgb(255,255,0);" title="Yellow"></button>
                    <button class="color-btn" data-color="6" style="background: rgb(128,0,128);" title="Purple"></button>
                    <button class="color-btn" data-color="7" style="background: rgb(0,255,255);" title="Cyan"></button>
                    <button class="color-btn" data-color="8" style="background: rgb(255,102,178);" title="Pink"></button>
                </div>
            </div>

            <!-- Brush Size -->
            <div class="control-section">
                <label>Brush Size: <span id="size-value">0.050</span></label>
                <input type="range" id="brush-size" min="0.005" max="0.1" step="0.005" value="0.05">
            </div>

            <!-- Mode Selection -->
            <div class="control-section">
                <label>Mode</label>
                <div id="mode-buttons">
                    <button class="mode-btn selected" data-mode="draw">Draw</button>
                    <button class="mode-btn" data-mode="grab">Grab</button>
                    <button class="mode-btn" data-mode="orbit">Orbit</button>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="control-section">
                <button id="undo-btn" class="action-btn">Undo</button>
                <button id="clear-btn" class="action-btn danger">Clear All</button>
            </div>

            <!-- Physics Toggle -->
            <div class="control-section">
                <label class="checkbox-label">
                    <input type="checkbox" id="physics-enabled" checked>
                    Enable Physics on Throw
                </label>
            </div>
        </div>
    </div>

    <!-- Instructions Overlay -->
    <div id="instructions">
        <div class="instructions-content basketball-theme">
            <div class="basketball-icon">üèÄ</div>
            <h2>3D Art Playground</h2>
            <p class="tagline">Draw anything. Give it physics. Watch it fly.</p>

            <div class="demo-steps">
                <div class="demo-step">
                    <span class="step-number">1</span>
                    <span class="step-text">Draw a basketball</span>
                </div>
                <div class="demo-step">
                    <span class="step-number">2</span>
                    <span class="step-text">Grab & throw it</span>
                </div>
                <div class="demo-step">
                    <span class="step-number">3</span>
                    <span class="step-text">Score!</span>
                </div>
            </div>

            <div class="instructions-grid">
                <div class="instruction-item">
                    <h4>Desktop</h4>
                    <ul>
                        <li><strong>Draw:</strong> Left-click + drag</li>
                        <li><strong>Grab:</strong> Press G, then click</li>
                        <li><strong>Orbit:</strong> Right-click + drag</li>
                    </ul>
                </div>
                <div class="instruction-item">
                    <h4>Mobile</h4>
                    <ul>
                        <li><strong>Draw:</strong> 1 finger drag</li>
                        <li><strong>Grab:</strong> Tap Grab button</li>
                        <li><strong>Orbit:</strong> 2 finger drag</li>
                    </ul>
                </div>
            </div>

            <button id="start-btn">Let's Play!</button>

            <p class="note">Built with Babylon.js + Havok Physics | VR-ready for Meta Quest</p>
        </div>
    </div>

    <!-- Mobile-specific controls -->
    <div id="mobile-controls">
        <button id="mobile-undo" aria-label="Undo">‚Ü∂</button>
        <button id="mobile-menu" aria-label="Menu">‚ò∞</button>
    </div>

    <script src="app.js" type="module"></script>
</body>
</html>
